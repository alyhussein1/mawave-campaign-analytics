version: 2

models:
  - name: ol_campaign_profitability
    description: "Campaign-level profitability model combining advertising performance, client metadata, and internal time-tracking cost allocations."

    columns:
      - name: campaign_id
        description: "Unique identifier for the campaign."
        tests:
          - not_null
          - unique
      - name: campaign_name
        description: "Name of the campaign."
      - name: client_id
        description: "Unique identifier for the client associated with the campaign."
        tests:
          - not_null
      - name: client_name
        description: "Name of the client."
      - name: platform
        description: "Advertising platform used for the campaign."
      - name: campaign_status
        description: "Current status of the campaign (e.g., active, paused)."
      - name: total_ad_spend
        description: "Total advertising spend attributed to the campaign (7d_click)."
      - name: total_revenue
        description: "Total attributed revenue generated by the campaign."
      - name: total_conversions
        description: "Total conversions attributed to the campaign."
      - name: total_internal_cost
        description: "Total internal productive cost allocated to the client."
      - name: total_hours
        description: "Total productive hours logged for the client."
      - name: total_cost
        description: "Combined advertising spend and internal costs."
      - name: gross_profit
        description: "Gross profit calculated as revenue minus all costs."
      - name: profit_margin_pct
        description: "Gross profit margin expressed as a percentage of total costs."
